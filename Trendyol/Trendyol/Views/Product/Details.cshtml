@model Product
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_TrendyolLayout.cshtml";
    int a = 0;
    int sayi = 0;
    int b = 0;
    int c = 0;
    int k = 0;
}
<link href="~/css/style.css" rel="stylesheet" />

<style>
   


    div.x i{
        font-size:14px
    }
    .checked{
       color: orange;
    }.checked{
       color: orange;
    }
    .sepetbuton {
        background-color: #f27a1a;
    }

    .custom-border {
        border: 1px solid black;
        padding: 10px;
    }</style>
    
               
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>

    <div class="container-fluid mt-4 col-11  min-vh-100" style="">

        <!--Breadcrumb-->

       

        <!--Breadcrumb END-->

        <div class="row">


            <!--Image Column-->

            <div class="col-sm-4 ">


                <div class="row">

                    <div id="carouselId" class="carousel slide" data-bs-ride="carousel">

                        <div style="height: 550px;" class="carousel-inner" role="listbox">
                            <div class="carousel-item active">
                                <img src="~/img/@Model.ProductImageUrl1" class="w-100" style="height: 550px;" alt="First slide">

                            </div>
                            <div class="carousel-item">
                            <img src="~/img/@Model.ProductImageUrl2" class="w-100" style="height: 550px;" alt="Second slide">

                            </div>
                            <div class="carousel-item">
                            <img src="~/img/@Model.ProductImageUrl3" class="w-100" style="height: 550px;" alt="Third slide">

                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselId" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselId" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>

                        <ul class="carousel-indicators" style="list-style: none;">
                            <li data-bs-target="#carouselId" data-bs-slide-to="0" class="active" aria-current="true" aria-label="First slide"></li>
                            <li data-bs-target="#carouselId" data-bs-slide-to="1" aria-label="Second slide"></li>
                            <li data-bs-target="#carouselId" data-bs-slide-to="2" aria-label="Third slide"></li>
                        </ul>
                    </div>

                </div>






                <div class="row-cols-sm-auto d-flex align-items-center justify-content-around flex-row px-4 mt-3 ">

                <div class="col"><a href=""><img style="width: 50px;height: 70px;" src="~/img/@Model.ProductImageUrl1" alt=""></a></div>
                <div class="col"><a href=""><img style="width: 50px;height: 70px;" src="~/img/@Model.ProductImageUrl2" alt=""></a></div>
                <div class="col"><a href=""><img style="width: 50px;height: 70px;" src="~/img/@Model.ProductImageUrl3" alt=""></a></div>


                </div>


            


            </div>


            <!--Image Column END-->
            <!--Details Column Start-->

            <div class="col-sm-6 mx-1">

                <div class="row ">
  @Model.ProductTitle
                </div>

                <div class="row mt-4 x">
                @if (Model.StarNumber == 0)
                {
                    <div class="col">
                        <span>0.0</span>
                        <i class="fas fa-star "></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                }
                  @if(Model.StarNumber==1 && Model.StarNumber<21)
                {
                    <div class="col">
                        <span>1.0</span>
                        <i class="fas fa-star checked" ></i>
                        <i class="fas fa-star" ></i>
                        <i class="fas fa-star" ></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                }
           
                @if(Model.StarNumber>20 && Model.StarNumber<41)
                {
                    <div class="col">
                        <span>2.0</span>
                        <i class="fas fa-star checked" ></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star" ></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                }

                @if(Model.StarNumber>40 && Model.StarNumber<61)
                {
                    <div class="col">
                        <span style="font-weight:bold">3.0</span>
                        <i style="font-size:14px;" class="fas fa-star checked" ></i>
                        <i style="font-size:14px;" class="fas fa-star checked"></i>
                        <i style="font-size:14px;" class="fas fa-star checked"></i>
                        <i style="font-size:14px;" class="fas fa-star"></i>
                        <i style="font-size:14px;" class="fas fa-star"></i>
                    </div>
                }

                @if (Model.StarNumber == 60 && Model.StarNumber < 81)
                {
                    <div class="col">
                        <span>4.0</span>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star"></i>
                    </div>
                }
                 @if (Model.StarNumber == 80)
                {
                    <div class="col">
                        <span>5.0</span>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                        <i class="fas fa-star checked"></i>
                    </div>
                }
                    <div class="col">
                        <span><small style="font-size:12px;"> 6682 Değerlendirme  </small></span>
                    </div>
                    <div class="col">
                        <small><span style="font-size:12px;">293 Soru & Cevap  </span></small>
                    </div>
                    <div class="col">
                    <small><span style="font-size:12px;"><i class="fa fa-heart-o" style="font-size:16px;color:gray"></i>  57049 Favori </span></small>
                    </div>






                </div>

                <div class="row">
                    <h2 style="color: darkorange; margin-top: 30px;">
                        @Model.ProductPrice TL
                    </h2>

                </div>

                <hr>

                <div>
                    <small>Renk: <i class="fas fa-info-circle"></i></small>
                </div>



                <div class="container ">

                    <div class="row">

                        <div class="col-12 d-flex">

                           
                            @foreach (var item in ViewBag.products)
                            {
                            <div class="col">
                                <a href="/product/details/@item.Id"> <img src="~/img/@item.ProductImageUrl1" alt="" style="width: 60px;height: 80px;"></a>
                            </div>
                        }
                              
                         
                        </div>

                    </div>

                </div>


                <div class="">
                    <br />
                    <div class="row d-flex">
                    <div class="col-9">  <small>Beden: XL</small></div>
                        <div class="col-3 d-flex flex-row"><small> <i class="fas fa-coins"></i> Beden Tablosu</small></div>
                    </div>
                </div>

                <div class=" col-12 ">
                    <div class="row">
                        <div class="col-sm-12">

                            <div id="sizes" class="btn btn-group btn-group-toggle d-flex align-items-center justify-content-center" data-toggle="buttons">

                   <label style="background-color:whitesmoke" class="btn  ">
                                    <input type="radio" name="options" id="option1" autocomplete="off" checked> XS
                                </label>

                            <label style="background-color:whitesmoke" class="btn ">
                                    <input type="radio" name="options" id="option2" onchange="" autocomplete="off"> S
                                </label>
                            <label style="background-color:whitesmoke" class="btn ">
                                    <input type="radio" name="options" id="option3" autocomplete="off"> M
                                </label>
                            <label style="background-color:whitesmoke" class="btn btnL">
                                    <input type="radio" name="options" id="option4" value="L" autocomplete="off"> L
                                </label>
                            <label style="background-color:whitesmoke" class="btn ">
                                    <input type="radio" name="options" id="option5" autocomplete="off"> XL
                                </label>
                            <label style="background-color:whitesmoke" class="btn " >
                                    <input type="radio" name="options" id="option6" autocomplete="off"> XXL
                                </label>
                            <label style="background-color:whitesmoke" class="btn ">
                                    <input type="radio" name="options" id="option7" autocomplete="off"> 3XL
                                </label>
                            </div>


                        </div>
                    </div>
                </div>



                <div class="container">
                    <div class="row">
                        <div class="col-11">
                            <form asp-controller="Cart" asp-action="AddToCart" method="post">
                                <input type="hidden" name="productId" value="@Model.Id" / >
                                <input type="hidden" name="quantity" value="1" / >
                                <input type="hidden" id ="beden" name="size" value="" / >
                                  <button class="btn btn-lg w-100 sepetbuton text-white">Sepete Ekle</button>
                            </form>
                          
                        </div>
                        <div class="col-sm-1">
                            <div class="container">
                                <div style="width:40px;height:40px; background-color:whitesmoke;border-radius:50%;text-align:center">
                                    <form asp-controller="Favori" asp-action="AddToFavoris" method="post">
                                        <input type="hidden" name="productId" value="@Model.Id" />
                                        <input type="hidden" name="quantity" value="1" />
                                        <button type="submit">
                                        <a title="Favorilere Ekle"><i class="fa fa-heart-o" style="font-size:24px;margin-top:8px;color:gray"></i></a>
                                        </button>
                                       
                                    </form>
                                
                            </div>
                      
                            </div>
                        </div>
                    </div>
                </div>

                <div class="container">

                    <div class="row-gap-5 mb-1 mt-1 bg-secondary-subtle rounded-pill">
                        <i class="fas fa-box"></i> <b>Tahmini Kargoya Teslim: </b>4 gün içinde.
                    </div>
                    <div class="row-gap-5 mb-1 mt-1 bg-success-subtle rounded-pill"><i class="fas fa-truck-fast" style="color: green;"></i><b>Hızlı Teslimat</b> yapan satıcı var.</div>

                </div>


                <div class="container">
                    <div class="row mt-3 mb-3">
                        <b> Öne Çıkan Özellikler:</b>
                    </div>


                    <ul>
                        <li>15 gün içinde ücretsiz iade. Detaylı bilgi için <a class="text-muted text-decoration-underline" href=""> tıklayın. </a></li>
                        <li>Bu ürün <a class="text-muted text-decoration-underline" href=""> Altınyıldız Classics  </a> tarafından gönderilecektir.</li>
                        <li><p>%100 Pamuk, Düz Siyah, Bisiklet Yaka, Slim Fit, Kısa Kol, Cepsiz, 4 Mevsim, AC&CO / Altınyıldız Classics Slim Fit Bisiklet Yaka Kısa Kollu Pamuklu Tişört, Manken Ölçüleri: Boy:1.89Cm, Kilo:80 Kg, Ürün Bedeni:L, Ürün Kodu: 4A4800000001SYH. Yıkama Talimatı: Makine yıkama suyu sıcaklığı 30 dereceyi geçmemelidir. Trikloretilen Hariç Kuru Temizleme Kimyasalları Kullanılır. Çamaşır Suyu Konamaz. Kurutma Makinesinde Kurutulamaz. Düşük Isıda Ütülenmelidir.</p></li>
                    </ul>

                </div>

               

                 


            </div>




            <!--Details Column END-->
            <!--Third Column Start-->

            <div class="col ">
                <b class="text-muted"> Ürünün Kampanyaları:  </b>


                <div class="row justify-content-center align-items-center g-2 mt-2  " style="border: 100px;">

                    <div class="col custom-border rounded d-flex ">

                    <div class="container m-1 custom-border bg-secondary-subtle d-flex justify-content-center align-items-center" style="width: 30px;height: 30px;border-radius:10px">
                            <i class="fas fa-box"></i>
                        </div>
                        <small style="font-size:10px">100 TL ve Üzeri Kargo Bedava (Satıcı Karşılar)</small>
                    </div>
                </div>

                <div class="row justify-content-center align-items-center g-2 mt-2  " style="border: 100px;">

                    <div class="col custom-border  rounded d-flex ">

                        <div class="container m-1 custom-border bg-warning-subtle d-flex justify-content-center align-items-center" style="width: 30px;height: 30px;border-radius:10px">
                            <i class="fas fa-tag"></i>
                        </div>
                    <small style="font-size:10px">500 TL'ye 75 TL indirim.</small>
                    <small style="font-size:10px;color: red;">Son 17 Saat 23 Dakika!</small>
                    </div>
                </div>


                <div class="row justify-content-center align-items-center g-2 mt-2  " style="border: 100px;">

                    <div class="col custom-border rounded d-flex ">

                    <div class="container m-1 custom-border bg-warning-subtle d-flex justify-content-center align-items-center" style="width: 30px;height: 30px;border-radius:10px">
                            <i class="fas fa-tag"></i>
                        </div>
                        <small >5 Al 4 Öde!</small>
                    </div>
                </div>










            </div>


        </div>


        <!--Third Column END-->
        <div class="row">
            <h4>Benzer Ürünler</h4>

        <div id="container">
            <div id="slider-container">
                <span onclick="slideRight()" class="btn"></span>
                <div id="slider">
                  @foreach (var item in ViewBag.benzerUrunler)
                    {
                        <div class="slide">

                            <div class="card" style="width: 18rem;">
                                <img class="card-img-top" src="~/img/@item.ProductImageUrl1" alt="Card image cap">
                                <div class="card-body">
                                    <p style="font-size:13px;" class=" text-muted">@item.ProductTitle</p>
                                    <div style="margin-top:-15px;" class="rating-wrap">
                                        <span style="font-size:12px;color:orange" class="fa fa-star checked "></span>
                                        <span style="font-size:12px;color:gray" class="fa fa-star "></span>
                                        <span style="font-size:12px;color:gray" class="fa fa-star "></span>
                                        <span style="font-size:12px;color:gray" class="fa fa-star "></span>
                                        <span style="font-size:12px;color:gray" class="fa fa-star"></span>
                                        <span style="font-size:12px;color:gray">(2550)</span>
                                    </div>
                                    <p style="color:darkorange;font-weight:bold">@item.ProductPrice TL</p>
                                </div>
                            </div>
                        </div>
                    }
   
     
                </div>
                <span onclick="slideLeft()" class="btn"></span>
            </div>
        </div>
        </div>



    </div>

    <!--Main Container END-->
<!--Main Container Start-->

<div class="container col-sm-11 col-md-11 col-lg-11 " style="min-height:300px;">

    <div class="row">

        <div class="col-2 m-3 g-1 d-flex justify-content-around align-items-center">

            <div class="col-sm-10">

              
                    @if (Model.StarNumber == 0)
                    {
                        <div class="col">
                            <span>0.0</span>
                            <i class="fas fa-star "></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    }
                    @if (Model.StarNumber == 1 && Model.StarNumber < 21)
                    {
                        <div class="col">
                            <span>1.0</span>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    }

                    @if (Model.StarNumber > 20 && Model.StarNumber < 41)
                    {
                        <div class="col">
                            <span>2.0</span>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    }

                    @if (Model.StarNumber > 40 && Model.StarNumber < 61)
                    {
                        <div class="col">
                            <span style="font-weight:bold">3.0</span>
                            <i style="font-size:14px;" class="fas fa-star checked"></i>
                            <i style="font-size:14px;" class="fas fa-star checked"></i>
                            <i style="font-size:14px;" class="fas fa-star checked"></i>
                            <i style="font-size:14px;" class="fas fa-star"></i>
                            <i style="font-size:14px;" class="fas fa-star"></i>
                        </div>
                    }

                    @if (Model.StarNumber == 60 && Model.StarNumber < 81)
                    {
                        <div class="col">
                            <span>4.0</span>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star"></i>
                        </div>
                    }
                    @if (Model.StarNumber == 80)
                    {
                        <div class="col">
                            <span>5.0</span>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                            <i class="fas fa-star checked"></i>
                        </div>
                    }
                

            </div>

            


        </div>

        @{ @foreach (var item in ViewBag.Comments)
            {
                b++;
                 @foreach (var like in ViewBag.like)      
                {
                    @if(item.Id==like.CommentId)
                    {
                        c++;
                    }
                    
                }
            }

           

        }


        <div class="col-3 offset-2 mt-3 d-flex align-items-center justify-content-center">

            <small>  @c Değerlendirme | @b Yorum</small>

        </div>

        <hr>


    </div>

    @foreach (var item in ViewBag.Comments)
    {
        <div class="row mb-3 mt-2">


            <div class="row">

                <div class="d-flex">



                    <i class="fas fa-star" style="color: darkorange; font-size: small;"></i>
                    <i class="fas fa-star" style="color: darkorange; font-size: small;"></i>
                    <i class="fas fa-star" style="color: darkorange; font-size: small;"></i>
                    <i class="fas fa-star" style="color: darkorange; font-size: small;"></i>
                    <i class="fas fa-star" style="color: darkorange; font-size: small;"></i>

                    <small style="margin-left: 20px;">@item.CommentText</small>


                </div>


            </div>


         
            <div class="row mt-2">

                <div class="col-sm-10">
                    <small>  @item.UserName | @item.DateComment | <a class="text-muted text-decoration-none" href=""> OyunKredi </a> satıcısından alındı.</small>
                </div>
                <div class="col-sm-2 d-flex">
                    @{
                            sayi =0;
                    }
                    @foreach (var like in ViewBag.like)
                    {
                    
                        @if (item.Id == like.CommentId)
                        {
                          
                             
                                @if (like.UserId == ViewBag.UserId)
                                {
                                    sayi++;
                                }

                              
                            
                           
                        }
                       
                    }
                    @if (sayi == 0)
                    {
                        <form asp-action="LikeComment" asp-controller="Comment" method="post" style="display:inline">
                            <input type="hidden" name="id" value="@Model.Id" />
                            <input type="hidden" name="commentId" value="@item.Id" />
                            <button><i class="fas fa-thumbs-up text-muted text-decoration-none"></i></button>
                            <small class="text-muted text-decoration-none">
                                Yorumu Beğen
                                @{
                                    k = 0;
                                    @foreach (var likes in ViewBag.like)
                                    {

                                        @if (item.Id == likes.CommentId)
                                        {
                                            k++;
                                        }

                                    }
                                }
                              

                                (@k)
                            </small>
                        </form>

                    }
                    else
                    {
                        <i style="color:darkorange" class="fas fa-thumbs-up  text-decoration-none"></i>
                        <small style="color:darkorange" class=" text-decoration-none">
                            Yorumu Beğen 
                            @{
                                a = 0;
                            }
                            @foreach (var likess in ViewBag.like)
                            {
                                
                                @if (item.Id == likess.CommentId)
                                {
                                    a++;
                                }

                            }

                            (@a)
                        </small>
                    }





                </div>

            </div>




        </div>
    }
  

      <div class="row mt-5">
                   <form asp-controller="product" asp-action="AddComment" method="post">
                       <input type="hidden" name="productId" value="@Model.Id" />
                       <textarea name="comment" style="border:3px solid darkorange" placeholder="Ürün Hakkında Yorum Yazın ?" class="form-control"></textarea>
                       <br />
                       <button type="submit" style="background-color:darkorange;color:white;float:right" class="btn ">Gönder</button>
                   </form>
                </div>




</div>


<!--Main Container END-->
<!--Soru Cevap Container Start-->


<div class="container  col-md-11 h-100" style="min-height: 550px;">

    <div class="row mb-3 mx-2 ">

        <h4>Ürün Soru ve Cevapları</h4>

    </div>




    <div class="row">
        



        <!--Main Container Start-->

        <div class="  col-md-12  " style="min-height: 500px;">

            <div class="row d-flex justify-content-between align-items-center">

                <div class="col-8 m-3 g-1 d-flex justify-content-center align-items-center">

                    <div class="col-md-1 ">

                        <img style="max-width: 60px;max-height: 100px;" src="~/img/@Model.ProductImageUrl1" alt="">

                    </div>

                    <div class="col-md-8">


                        <b class="">@Model.ProductTitle</b>


                    </div>



                </div>




                <div class="col-2 offset-1 mt-3 d-flex align-items-center justify-content-center">

                    <small>Satıcı: <a class="text-decoration-none" href="">LARABAY</a></small>

                </div>

                <hr>


            </div>








            @if(User.IsInRole("Admin"))
            {
                <div class="row mb-3 mt-2">


                    <div class="row">

                        @foreach (var item in ViewBag.Questions)
                        {
                            <div class="d-flex flex-column">



                                <small> <span style="font-weight: bold;">Soru:</span>  @item.TextQuestions</small>
                                <small>@item.UserName | @item.DateQuestions.ToString("dd MMMM yyyy") | <i style="color: green;" class="fas fa-check-circle"></i> <span style="color: green;">Ürünü satın aldı</span></small>



                            </div>

                            <div class="row mt-2">

                                
                                @foreach (var answer in ViewBag.answer)
                                {
                                    @if (answer.QuestionsId == item.Id)
                                    {
                                        <div class="col-sm-9 mx-5 d-flex flex-column">
                                            <small> <span style="font-weight: bold;">Cevap:</span> @answer.Answer</small>
                                            <small class="text-muted text-decoration-none">
                                                @answer.Name | 20  Dakika içinde cevaplandı.
                                            </small>
                                        </div>

                                    }

                                }


                            </div>

                            <div class="row mt-5">
                                <form asp-controller="admin" asp-action="AddAnswer" method="post">
                                    <input type="hidden" name="productId" value="@Model.Id" />
                                    <input type="hidden" name="questionsId" value="@item.Id" />
                                    <textarea name="answer" style="border:3px solid darkorange" placeholder="Sn Admin Yanıt Verin ?" class="form-control"></textarea>
                                    <br />
                                    <button type="submit" style="background-color:darkorange;color:white;float:right" class="btn ">Gönder</button>
                                </form>
                            </div>
                        }



                    </div>

                   







                </div>
            }
            else
            {
                <div class="row mb-3 mt-2">


                    <div class="row">

                        @foreach (var item in ViewBag.Questions)
                        {
                            <div class="d-flex flex-column">



                                <small> <span style="font-weight: bold;">Soru:</span>  @item.TextQuestions</small>
                                <small>@item.UserName | @item.DateQuestions.ToString("dd MMMM yyyy") | <i style="color: green;" class="fas fa-check-circle"></i> <span style="color: green;">Ürünü satın aldı</span></small>



                            </div>

                            <div class="row mt-2">
                                @foreach (var answer in ViewBag.answer)
                                {
                                    @if (answer.QuestionsId == item.Id)
                                    {
                                        <div class="col-sm-9 mx-5 d-flex flex-column">
                                            <small> <span style="font-weight: bold;">Cevap:</span> @answer.Answer</small>
                                            <small class="text-muted text-decoration-none">
                                                @answer.Name | 20  Dakika içinde cevaplandı.
                                            </small>
                                        </div>

                                    }

                                }


                            </div>
                        }



                    </div>

                    <div class="row mt-5">
                        <form asp-controller="product" asp-action="AddQuestion" method="post">
                            <input type="hidden" name="productId" value="@Model.Id" />
                            <textarea name="questions" style="border:3px solid darkorange" placeholder="Soru Sorun ?" class="form-control"></textarea>
                            <br />
                            <button type="submit" style="background-color:darkorange;color:white;float:right" class="btn ">Gönder</button>
                        </form>
                    </div>







                </div>
            }

           



        </div>


        <!--Main Container END-->



    </div>





</div>






<script>
    var btn=document.getElementById("option4")
    btn.addEventListener("click", () => {
      var values=  btn.value;
      var beden=document.getElementById("beden");
      beden.value=values;

    });
 </script>













    <script>
        var container = document.getElementById('container')
var slider = document.getElementById('slider');
var slides = document.getElementsByClassName('slide').length;
var buttons = document.getElementsByClassName('btn');


var currentPosition = 0;
var currentMargin = 0;
var slidesPerPage = 0;
var slidesCount = slides - slidesPerPage;
var containerWidth = container.offsetWidth;
var prevKeyActive = false;
var nextKeyActive = true;

window.addEventListener("resize", checkWidth);

function checkWidth() {
    containerWidth = container.offsetWidth;
    setParams(containerWidth);
}

function setParams(w) {
    if (w < 551) {
        slidesPerPage = 1;
    } else {
        if (w < 901) {
            slidesPerPage = 2;
        } else {
            if (w < 1101) {
                slidesPerPage = 3;
            } else {
                slidesPerPage = 4;
            }
        }
    }
    slidesCount = slides - slidesPerPage;
    if (currentPosition > slidesCount) {
        currentPosition -= slidesPerPage;
    };
    currentMargin = - currentPosition * (100 / slidesPerPage);
    slider.style.marginLeft = currentMargin + '%';
    if (currentPosition > 0) {
        buttons[0].classList.remove('inactive');
    }
    if (currentPosition < slidesCount) {
        buttons[1].classList.remove('inactive');
    }
    if (currentPosition >= slidesCount) {
        buttons[1].classList.add('inactive');
    }
}

setParams();

function slideRight() {
    if (currentPosition != 0) {
        slider.style.marginLeft = currentMargin + (100 / slidesPerPage) + '%';
        currentMargin += (100 / slidesPerPage);
        currentPosition--;
    };
    if (currentPosition === 0) {
        buttons[0].classList.add('inactive');
    }
    if (currentPosition < slidesCount) {
        buttons[1].classList.remove('inactive');
    }
};

function slideLeft() {
    if (currentPosition != slidesCount) {
        slider.style.marginLeft = currentMargin - (100 / slidesPerPage) + '%';
        currentMargin -= (100 / slidesPerPage);
        currentPosition++;
    };
    if (currentPosition == slidesCount) {
        buttons[1].classList.add('inactive');
    }
    if (currentPosition > 0) {
        buttons[0].classList.remove('inactive');
    }
};
    </script>
    <script>   

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

